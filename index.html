<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Candi Borobudur</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
        }

        #info-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
            pointer-events: none;
        }

        #info-overlay.show {
            display: flex;
            pointer-events: auto;
        }

        #info-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 800px;
            max-height: 70vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        #info-content h1 {
            color: #8B4513;
            margin-bottom: 20px;
            font-size: 28px;
            text-align: center;
        }

        #info-content h2 {
            color: #A0522D;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 20px;
        }

        #info-content p, #info-content li {
            color: #333;
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 15px;
        }

        #info-content ul {
            margin-left: 20px;
        }

        #close-info {
            display: block;
            margin: 25px auto 0;
            padding: 12px 40px;
            background: #8B4513;
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }

        #close-info:hover {
            background: #A0522D;
        }

        #ui-controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: center;
        }

        .arrow-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .control-btn {
            padding: 15px 20px;
            background: rgba(139, 69, 19, 0.9);
            color: white;
            border: 2px solid white;
            border-radius: 15px;
            font-size: 24px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            min-width: 60px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .control-btn:hover {
            background: rgba(160, 82, 45, 0.9);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }

        .control-btn:active {
            transform: translateY(0);
        }

        .arrow-up {
            grid-column: 2;
            grid-row: 1;
        }

        .arrow-left {
            grid-column: 1;
            grid-row: 2;
        }

        .arrow-down {
            grid-column: 2;
            grid-row: 2;
        }

        .arrow-right {
            grid-column: 3;
            grid-row: 2;
        }

        #instructions {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(139, 69, 19, 0.9);
            color: white;
            padding: 15px 30px;
            border-radius: 30px;
            z-index: 998;
            text-align: center;
            font-size: 14px;
            max-width: 90%;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        #marker-link {
            display: none;
        }

        @media (max-width: 768px) {
            #info-content {
                padding: 20px;
            }
            
            #info-content h1 {
                font-size: 22px;
            }
            
            #info-content h2 {
                font-size: 18px;
            }
            
            #info-content p, #info-content li {
                font-size: 14px;
            }

            .control-btn {
                padding: 12px 16px;
                font-size: 20px;
                min-width: 50px;
                min-height: 50px;
            }
        }

        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 18px;
            z-index: 997;
            background: rgba(0, 0, 0, 0.7);
            padding: 20px 40px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <!-- Info Overlay -->
    <div id="info-overlay">
        <div id="info-content">
            <h1>üïå Candi Borobudur</h1>
            
            <p><strong>Candi Borobudur</strong> merupakan salah satu peninggalan kebudayaan Buddha terbesar di dunia yang terletak di Magelang, Jawa Tengah, Indonesia. Candi ini dibangun pada masa Dinasti Syailendra, sekitar tahun <strong>780‚Äì830 Masehi</strong>, ketika ajaran Buddha Mahayana berkembang pesat di Nusantara. Raja yang berperan besar dalam pembangunan candi ini diperkirakan adalah <strong>Raja Samaratungga</strong>, dengan arsiteknya bernama <strong>Gunadharma</strong>.</p>

            <p>Nama Borobudur berasal dari kata <em>Vihara Buddha Uhr</em> yang berarti "biara Buddha di atas bukit". Candi ini dibangun di atas bukit setinggi 34,5 meter dengan batu andesit sebanyak sekitar 2 juta balok, yang disusun tanpa menggunakan semen, melainkan sistem <strong>interlocking</strong> (saling mengunci).</p>

            <h2>Latar Belakang Pembangunan</h2>
            <p>Candi Borobudur mencerminkan perpaduan antara keagamaan, filsafat, dan seni arsitektur Jawa kuno. Dinasti Syailendra membangun candi ini sebagai tempat pemujaan dan ziarah bagi umat Buddha Mahayana, dengan tujuan membantu umat mencapai pencerahan (nirwana).</p>

            <p>Selain itu, Borobudur juga menjadi simbol legitimasi kekuasaan raja, yang menunjukkan kemegahan kerajaan serta hubungan erat antara kekuasaan duniawi dan spiritual.</p>

            <h2>Struktur dan Arsitektur Candi Borobudur</h2>
            <p>Candi Borobudur memiliki struktur berbentuk <strong>punden berundak</strong> yang merepresentasikan konsep kosmologi Buddhis, yaitu perjalanan spiritual manusia menuju pencerahan. Candi terdiri dari tiga tingkatan utama:</p>

            <ul>
                <li><strong>Kamadhatu</strong> ‚Äì bagian dasar, melambangkan dunia nafsu dan keinginan (dunia hasrat). Di bagian ini terdapat 160 relief karmawibhangga, menggambarkan hukum sebab-akibat (karma).</li>
                
                <li><strong>Rupadhatu</strong> ‚Äì empat tingkat di tengah, melambangkan dunia bentuk. Di sini terdapat 1.300 relief dan 432 arca Buddha dalam posisi dan mudra berbeda.</li>
                
                <li><strong>Arupadhatu</strong> ‚Äì tiga teras melingkar di puncak, melambangkan dunia tanpa bentuk. Terdapat 72 stupa berlubang yang masing-masing berisi arca Buddha sedang bermeditasi, serta satu stupa utama besar di puncak yang melambangkan kesempurnaan spiritual (nirwana).</li>
            </ul>

            <p>Dari atas, bentuk Borobudur menyerupai <strong>mandala</strong>, simbol alam semesta dalam ajaran Buddha. Tata letak ini menggambarkan perjalanan menuju pencerahan ‚Äî dari dunia keinginan menuju kesunyataan mutlak.</p>

            <h2>Fungsi dan Makna Filosofis</h2>
            <p>Borobudur berfungsi sebagai:</p>
            <ul>
                <li>Tempat pemujaan dan ziarah agama Buddha, khususnya pada hari Waisak.</li>
                <li><strong>Media pengajaran spiritual</strong>: Relief-reliefnya merupakan kitab visual ajaran Buddha, seperti Lalitavistara (riwayat hidup Buddha), Jataka dan Avadana (kisah kebajikan), serta Gandavyuha (perjalanan spiritual Sudhana).</li>
            </ul>

            <p>Makna filosofis Borobudur sangat dalam ‚Äî menggambarkan bahwa manusia harus menapaki tangga kehidupan dari <strong>kamadhatu ‚Üí rupadhatu ‚Üí arupadhatu</strong> untuk mencapai nirwana.</p>

            <button id="close-info">Tutup</button>
        </div>
    </div>

    <!-- Instructions -->
    <div id="instructions">
        üì∑ Arahkan kamera ke marker Hiro untuk melihat Candi Borobudur dalam AR
    </div>

    <!-- UI Controls -->
    <div id="ui-controls">
        <div class="arrow-controls">
            <button class="control-btn arrow-up" id="rotate-up">‚¨ÜÔ∏è</button>
            <button class="control-btn arrow-left" id="rotate-left">‚¨ÖÔ∏è</button>
            <button class="control-btn arrow-down" id="rotate-down">‚¨áÔ∏è</button>
            <button class="control-btn arrow-right" id="rotate-right">‚û°Ô∏è</button>
        </div>
    </div>

    <div class="loading" id="loading">Memuat AR...</div>

    <!-- A-Frame AR Scene -->
    <a-scene
        embedded
        arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960;"
        vr-mode-ui="enabled: false"
        renderer="logarithmicDepthBuffer: true; precision: medium; antialias: true;"
        loading-screen="enabled: false"
        gesture-detector>
        
        <!-- Camera -->
        <a-entity camera></a-entity>

        <!-- Marker with Borobudur Model -->
        <a-marker preset="hiro" id="marker">
            <!-- Ganti path 'Borobudur.glb' dengan path file GLB kamu -->
            <a-entity
                id="borobudur-model"
                gltf-model="url(Borobudur.glb)"
                scale="1 1 1"
                position="0 0.5 0"
                rotation="-90 0 0">
            </a-entity>
        </a-marker>
    </a-scene>

    <script>
        const model = document.querySelector('#borobudur-model');
        const marker = document.querySelector('#marker');
        const loading = document.querySelector('#loading');
        
        // Track current rotation
        let currentRotation = { x: -90, y: 0, z: 0 };
        
        // Hide loading when marker is found
        marker.addEventListener('markerFound', () => {
            loading.style.display = 'none';
            // Show info panel automatically when marker is found
            document.getElementById('info-overlay').classList.add('show');
        });

        marker.addEventListener('markerLost', () => {
            loading.style.display = 'block';
            loading.textContent = 'Marker hilang, cari marker Hiro...';
            // Hide info when marker is lost
            document.getElementById('info-overlay').classList.remove('show');
        });

        // Info button - removed, auto show on scan

        document.getElementById('close-info').addEventListener('click', () => {
            document.getElementById('info-overlay').classList.remove('show');
        });

        // Close overlay when clicking outside content
        document.getElementById('info-overlay').addEventListener('click', (e) => {
            if (e.target.id === 'info-overlay') {
                document.getElementById('info-overlay').classList.remove('show');
            }
        });

        // Arrow rotation controls
        const rotateSpeed = 15; // degrees per click

        document.getElementById('rotate-left').addEventListener('click', () => {
            currentRotation.y -= rotateSpeed;
            model.setAttribute('rotation', `${currentRotation.x} ${currentRotation.y} ${currentRotation.z}`);
        });

        document.getElementById('rotate-right').addEventListener('click', () => {
            currentRotation.y += rotateSpeed;
            model.setAttribute('rotation', `${currentRotation.x} ${currentRotation.y} ${currentRotation.z}`);
        });

        document.getElementById('rotate-up').addEventListener('click', () => {
            currentRotation.x -= rotateSpeed;
            model.setAttribute('rotation', `${currentRotation.x} ${currentRotation.y} ${currentRotation.z}`);
        });

        document.getElementById('rotate-down').addEventListener('click', () => {
            currentRotation.x += rotateSpeed;
            model.setAttribute('rotation', `${currentRotation.x} ${currentRotation.y} ${currentRotation.z}`);
        });

        // Hide loading after scene loads
        setTimeout(() => {
            loading.textContent = 'Cari marker Hiro dengan kamera...';
        }, 2000);
    </script>
</body>
</html>
